 <!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Cosmic Wisdom - विज्ञान, दर्शन और धर्म</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700;900&family=Merriweather:ital,wght@0,300;0,400;0,700;1,300;1,400&family=Playfair+Display:wght@400;700&family=Tiro+Devanagari+Hindi&display=swap" rel="stylesheet">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Merriweather', serif;
            background: radial-gradient(ellipse at bottom, #0d1b2a 0%, #000000 100%);
            color: #e2e8f0;
            overflow: hidden; 
            touch-action: pan-x pan-y; /* Allow scrolling/panning if needed */
        }
        
        h1, h2, h3 { font-family: 'Cinzel', serif; }

        .ancient-page-bg {
            background: linear-gradient(135deg, #f4ecd8 0%, #e8dcc0 50%, #d4c4a8 100%);
            position: relative;
        }
        
        .ancient-page-bg::before {
            content: '';
            position: absolute;
            inset: 0;
            background-image: 
                repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(139, 115, 85, 0.03) 2px, rgba(139, 115, 85, 0.03) 4px),
                repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(139, 115, 85, 0.03) 2px, rgba(139, 115, 85, 0.03) 4px),
                url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='2.5' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.15'/%3E%3C/svg%3E");
            opacity: 0.8;
            pointer-events: none;
            border-radius: inherit;
        }

        .book-spine {
            background: linear-gradient(90deg, #3a2817 0%, #4a3525 20%, #5a4433 50%, #4a3525 80%, #3a2817 100%);
            box-shadow: 
                inset -2px 0 8px rgba(0,0,0,0.5),
                inset 2px 0 8px rgba(0,0,0,0.3),
                inset 0 0 2px rgba(139,115,85,0.2);
        }

        .book-shadow-ultra {
            box-shadow:
                0 2px 4px rgba(0,0,0,0.1),
                0 4px 8px rgba(0,0,0,0.1),
                0 8px 16px rgba(0,0,0,0.1),
                0 16px 32px rgba(0,0,0,0.15),
                0 32px 64px rgba(0,0,0,0.2),
                0 48px 96px rgba(0,0,0,0.25);
        }

        .cosmic-header-text {
            background: linear-gradient(135deg, #67e8f9 0%, #06b6d4 50%, #0891b2 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 8px rgba(34, 211, 238, 0.6)) 
                    drop-shadow(0 2px 4px rgba(8, 145, 178, 0.4))
                    drop-shadow(0 4px 12px rgba(6, 182, 212, 0.3));
            animation: cosmicPulseEnhanced 3s ease-in-out infinite alternate;
            position: relative;
        }

        .cosmic-header-text::before {
            content: attr(data-text);
            position: absolute;
            left: 0;
            top: 0;
            z-index: -1;
            background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            transform: translate(2px, 2px);
            filter: blur(1px);
        }

        @keyframes cosmicPulseEnhanced {
            0% { 
                filter: drop-shadow(0 0 5px rgba(34, 211, 238, 0.4)) 
                        drop-shadow(0 2px 4px rgba(8, 145, 178, 0.3)); 
            }
            100% { 
                filter: drop-shadow(0 0 20px rgba(34, 211, 238, 0.8)) 
                        drop-shadow(0 4px 12px rgba(6, 182, 212, 0.6))
                        drop-shadow(0 8px 24px rgba(6, 182, 212, 0.4)); 
            }
        }

        .glass-morph {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(12px) saturate(180%);
            -webkit-backdrop-filter: blur(12px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 8px 32px 0 rgba(0, 0, 0, 0.37),
                inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }
        
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle var(--duration, 3s) ease-in-out infinite;
            animation-delay: var(--delay, 0s);
        }

        @keyframes flipLeftSmoother {
            0% { transform: rotateY(0deg); box-shadow: 0 0 5px rgba(0,0,0,0.1); }
            30% { box-shadow: -15px 0 30px rgba(0,0,0,0.2); }
            50% { transform: rotateY(-90deg); box-shadow: -25px 0 50px rgba(0,0,0,0.4); }
            100% { transform: rotateY(-180deg); box-shadow: 0 0 5px rgba(0,0,0,0.1); }
        }

        @keyframes flipRightSmoother {
            0% { transform: rotateY(0deg); box-shadow: 0 0 5px rgba(0,0,0,0.1); }
            30% { box-shadow: 15px 0 30px rgba(0,0,0,0.2); }
            50% { transform: rotateY(90deg); box-shadow: 25px 0 50px rgba(0,0,0,0.4); }
            100% { transform: rotateY(180deg); box-shadow: 0 0 5px rgba(0,0,0,0.1); }
        }

        .perspective-3000 { perspective: 3000px; }
        .transform-style-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; }

        .btn-premium {
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
        }

        .btn-premium::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255,255,255,0.15);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn-premium:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-premium:active {
            transform: scale(0.95);
        }

        .page-edge-gilt {
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(212, 175, 55, 0.3) 20%,
                rgba(255, 215, 0, 0.5) 50%,
                rgba(212, 175, 55, 0.3) 80%,
                transparent 100%);
        }

        .ambient-shadow {
            box-shadow: inset 0 0 60px rgba(0,0,0,0.15);
        }

        .cosmic-orb {
            position: relative;
            /* Adaptive size for orbs */
            width: clamp(2.5rem, 6vmin, 4rem);
            height: clamp(2.5rem, 6vmin, 4rem);
            border-radius: 999px;
            background: radial-gradient(circle at 30% 20%, #e0f2fe 0%, #38bdf8 35%, #1d4ed8 70%, #020617 100%);
            box-shadow: 0 0 20px rgba(56, 189, 248, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            animation: orbFloat 6s ease-in-out infinite;
        }

        .cosmic-orb::before {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: inherit;
            border: 1px solid rgba(191, 219, 254, 0.9);
            opacity: 0.9;
            mix-blend-mode: screen;
        }

        .cosmic-icon {
            position: relative;
            filter: drop-shadow(0 0 8px rgba(248, 250, 252, 0.9));
        }

        @keyframes orbFloat {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-10px) scale(1.06); }
        }

        @keyframes slowSpin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .slow-spin {
            animation: slowSpin 14s linear infinite;
        }

        /* Responsive Typography using Clamp */
        .scriptural-heading {
            font-family: 'Tiro Devanagari Hindi', 'Cinzel', serif;
            letter-spacing: 0.04em;
            color: #3b1f0b;
            text-shadow: 0 1px 0 #fff7ed;
        }

        .scriptural-body {
            font-family: 'Tiro Devanagari Hindi', 'Merriweather', serif;
            line-height: 1.8;
            color: #4a2f16;
        }

        .english-heading {
            font-family: 'Playfair Display', 'Cinzel', serif;
            letter-spacing: 0.08em;
            color: #1e293b;
            text-shadow: 0 1px 0 #e0f2fe;
        }

        .english-body {
            font-family: 'Merriweather', serif;
            line-height: 1.7;
            color: #111827;
        }

        /* Enhanced readability when open */
        .book-open-text .scriptural-body {
            font-weight: 500;
        }
        .book-open-text .english-body {
            font-weight: 500;
        }
    </style>
</head>
<body>
<div id="root"></div>

<script type="text/babel">
const { useState, useEffect, useRef } = React;

const IconBase = ({ children, size = 24, className = "" }) => (
    <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" 
         fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" 
         strokeLinejoin="round" className={className} style={{ width: size, height: size }}>
        {children}
    </svg>
);

const Atom = (props) => (
    <IconBase {...props}>
        <circle cx="12" cy="12" r="1" />
        <path d="M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z" />
        <path d="M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z" />
    </IconBase>
);
const Brain = (props) => (
    <IconBase {...props}>
        <path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z" />
        <path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z" />
    </IconBase>
);
const Scroll = (props) => (
    <IconBase {...props}>
        <path d="M8 17a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2Z" />
        <path d="M8 21h12a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2H8" />
        <path d="M16 8h4" />
        <path d="M22 10v1a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2 2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-5" />
    </IconBase>
);
const MoveRight = (props) => (
    <IconBase {...props}>
        <path d="M18 8L22 12L18 16" />
        <path d="M2 12H22" />
    </IconBase>
);
const MoveLeft = (props) => (
    <IconBase {...props}>
        <path d="M6 8L2 12L6 16" />
        <path d="M2 12H22" />
    </IconBase>
);
const InfinityIcon = (props) => (
    <IconBase {...props}>
        <path d="M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 1 0 0-8c-2 0-4 1.33-6 4Z" />
    </IconBase>
);
const Star = (props) => (
    <IconBase {...props}>
        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
    </IconBase>
);
const Sparkles = (props) => (
    <IconBase {...props}>
        <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z" />
        <path d="M5 3 4 6 1 7 4 8 5 11 6 8 9 7 6 6 5 3" />
    </IconBase>
);

const FLIP_SOUND_URL = "https://assets.mixkit.co/active_storage/sfx/2070/2070-preview.mp3";

const CosmicBook = () => {
    const [isOpen, setIsOpen] = useState(false);
    const [currentPage, setCurrentPage] = useState(0);
    const [isFlipping, setIsFlipping] = useState(false);
    const [flipDirection, setFlipDirection] = useState('next');
    const [videoError, setVideoError] = useState(false);
    const [mousePos, setMousePos] = useState({ x: 0, y: 0 });
    const [isEnglish, setIsEnglish] = useState(false);
    const [isMobile, setIsMobile] = useState(false);
    
    const audioRef = useRef(new Audio(FLIP_SOUND_URL));

    useEffect(() => {
        const handleResize = () => {
            setIsMobile(window.innerWidth < 768);
        };
        handleResize(); // Init
        
        const handleMouseMove = (e) => {
            setMousePos({ x: e.clientX, y: e.clientY });
        };
        
        window.addEventListener('mousemove', handleMouseMove);
        window.addEventListener('resize', handleResize);
        audioRef.current.volume = 0.5;
        
        return () => {
            window.removeEventListener('mousemove', handleMouseMove);
            window.removeEventListener('resize', handleResize);
        };
    }, []);

    const playFlipSound = () => {
        if (audioRef.current) {
            audioRef.current.currentTime = 0;
            audioRef.current.play().catch(e => console.log("Audio play prevented:", e));
        }
    };

    const bookContent = [
        {
            title: "प्रस्तावना",
            text: "इस पुस्तक में हम ब्रह्मांड के उन रहस्यों को सुलझाने की कोशिश करेंगे जहां विज्ञान, दर्शन और धर्म एक दूसरे से मिलते हैं। सत्य एक है, बस देखने के नजरिये अलग हैं।",
            enTitle: "Preface",
            enText: "In this book, we try to explore the mysteries of the cosmos where science, philosophy and religion converge. Truth is one; only the ways of seeing it are different.",
            pageNumber: 1
        },
        {
            title: "विज्ञान",
            text: "ब्रह्मांड की उत्पत्ति Big Bang से हुई या किसी और शक्ति से? Quantum mechanics और आत्मा का क्या संबंध है? विज्ञान हमें 'कैसे' का उत्तर देता है, पदार्थ और ऊर्जा के नियम समझाता है।",
            enTitle: "Science",
            enText: "Was the universe born from the Big Bang or from some higher power? What is the relationship between quantum mechanics and the soul? Science answers the 'how', explaining the laws of matter and energy.",
            pageNumber: 2
        },
        {
            title: "दर्शन",
            text: "हम कौन हैं? हमारा उद्देश्य क्या है? Philosophy हमें 'क्यों' का उत्तर खोजने में मदद करती है। यह तर्क, चिंतन और आत्म-निरीक्षण का मार्ग है।",
            enTitle: "Philosophy",
            enText: "Who are we? What is our purpose? Philosophy helps us search for the answer to 'why'. It is the path of reason, contemplation and self-inquiry.",
            pageNumber: 3
        },
        {
            title: "धर्म",
            text: "विश्वास और आस्था की शक्ति। क्या कोई पारलौकिक शक्ति हमें चलाती है? धर्म हमें अनुशासन, करुणा और आंतरिक शांति का मार्ग दिखाता है।",
            enTitle: "Religion",
            enText: "The power of faith and belief. Is there a transcendental force guiding us? Religion shows us the path of discipline, compassion and inner peace.",
            pageNumber: 4
        },
        {
            title: "ब्रह्माण्ड",
            text: "तारे, आकाशगंगाएं और black holes — ये सब एक ही cosmic dance का हिस्सा हैं। हम भी उसी stardust से बने हैं जिससे तारे बने हैं।",
            enTitle: "Cosmos",
            enText: "Stars, galaxies and black holes — all are parts of the same cosmic dance. We too are made of the same stardust from which the stars were born.",
            pageNumber: 5
        },
        {
            title: "निष्कर्ष",
            text: "अंत में, ये तीनों रास्ते एक ही सच्चाई की तरफ जाते हैं। विज्ञान दिमाग है, दर्शन दृष्टि है और धर्म दिल है। तीनों का संतुलन ही जीवन है।",
            enTitle: "Conclusion",
            enText: "In the end, all three paths lead to the same truth. Science is the mind, philosophy is the vision and religion is the heart. Their balance is life itself.",
            pageNumber: 6
        },
        {
            title: "अंतिम पन्ना",
            text: "इस यात्रा में शामिल होने के लिए धन्यवाद। अपना नजरिया बदलें, दुनिया बदल जाएगी।",
            enTitle: "Final Page",
            enText: "Thank you for joining this journey. Change your perspective, and the world will change for you.",
            pageNumber: 7
        },
        {
            title: "समाप्त",
            text: "The End.",
            enTitle: "The End",
            enText: "The End.",
            pageNumber: 8
        }
    ];

    const totalPages = bookContent.length;
    const videoUrl = "https://drive.google.com/uc?export=download&id=1SyFrFkuOFO2Zq5DVppHERPmwDy17zBVd";

    const openBook = () => setIsOpen(true);

    const closeBook = (e) => {
        e.stopPropagation();
        setIsOpen(false);
        setTimeout(() => setCurrentPage(0), 1000);
    };

    const nextPage = (e) => {
        e.stopPropagation();
        if (currentPage < totalPages - 2 && !isFlipping) {
            playFlipSound(); 
            setFlipDirection('next');
            setIsFlipping(true);
            setTimeout(() => {
                setCurrentPage(prev => prev + 2);
                setIsFlipping(false);
            }, 900);
        }
    };

    const prevPage = (e) => {
        e.stopPropagation();
        if (currentPage > 0 && !isFlipping) {
            playFlipSound(); 
            setFlipDirection('prev');
            setIsFlipping(true);
            setTimeout(() => {
                setCurrentPage(prev => prev - 2);
                setIsFlipping(false);
            }, 900);
        }
    };

    const getPageData = (index) => {
        const page = bookContent[index];
        if (!page) return null;
        return {
            ...page,
            displayTitle: isEnglish ? (page.enTitle || page.title) : page.title,
            displayText: isEnglish ? (page.enText || page.text) : page.text
        };
    };

    const leftPage = getPageData(currentPage);
    const rightPage = getPageData(currentPage + 1);

    const parallaxX = (mousePos.x - window.innerWidth / 2) / 50;
    const parallaxY = (mousePos.y - window.innerHeight / 2) / 50;

    // --- ZOOM & POSITION LOGIC ---
    // When open:
    // 1. Scale up (1.5x on Desktop, fit width on Mobile)
    // 2. TranslateX(50%): This moves the "spine" to the center of the screen
    //    because the Left Page is flipped -180deg (sticking out to the left).
    //    Without this, the left page is off-screen.
    
    const getBookTransform = () => {
        if (isOpen) {
            // OPEN STATE
            // Mobile: Maximize width (scale based on viewport), Shift right to show spread
            // Desktop: Zoom in significantly
            const scale = isMobile ? 1.0 : 1.4; 
            
            // On mobile, the spread (2 pages) is wider than screen, so we fit width of ONE page approx
            // and user can pan, OR we fit 2 pages very small.
            // User requested "Bada dikhna chahiye" (Should look big).
            // So we scale it up and centering spine ensures both are accessible.
            return `translateX(50%) rotateX(0deg) rotateY(0deg) scale(${scale})`;
        } else {
            // CLOSED STATE
            return `translateY(${parallaxY * 0.3}px) rotateX(${parallaxY * 0.2}deg) rotateY(${parallaxX * 0.2}deg) scale(1.05)`;
        }
    };

    // Dynamic Font Size logic
    const getFontSizeTitle = () => isOpen ? (isMobile ? '1.5rem' : '2.5rem') : (isMobile ? '1.25rem' : '2rem');
    const getFontSizeBody = () => isOpen ? (isMobile ? '0.95rem' : '1.2rem') : (isMobile ? '0.7rem' : '1rem');

    return (
        <div className="h-[100dvh] w-full flex flex-col items-center justify-center p-2 md:p-4 overflow-hidden relative">
            <div className="absolute inset-0 bg-gradient-to-b from-[#0a0e27] via-[#0d1b2a] to-black"></div>
            
            {[...Array(30)].map((_, i) => (
                <div key={i} className="star" style={{
                    left: `${Math.random() * 100}%`,
                    top: `${Math.random() * 100}%`,
                    width: `${Math.random() * 2 + 1}px`,
                    height: `${Math.random() * 2 + 1}px`,
                    '--duration': `${Math.random() * 4 + 2}s`,
                    '--delay': `${Math.random() * 5}s`
                }} />
            ))}

            <div className={`transition-all duration-1000 absolute top-[5vh] text-center z-10 w-full px-4 ${isOpen ? 'opacity-0 -translate-y-10 pointer-events-none' : 'opacity-100 translate-y-0'}`}>
                <h1 className="text-4xl md:text-6xl lg:text-7xl font-black mb-2 relative">
                    <span className="cosmic-header-text inline-block break-words" data-text="The Cosmic Wisdom">
                        The Cosmic Wisdom
                    </span>
                </h1>
                <div className="h-1 w-32 md:w-64 mx-auto bg-gradient-to-r from-transparent via-cyan-400 to-transparent mb-3 rounded-full"></div>
                <p className="text-blue-200/60 text-[10px] md:text-sm uppercase tracking-[0.2em] md:tracking-[0.5em] animate-pulse font-light">
                    {isEnglish ? "Click to open book" : "पुस्तक खोलने के लिए क्लिक करें"}
                </p>
            </div>

            <div className="relative perspective-3000 w-full h-full flex items-center justify-center z-20">
                
                {/* MASTER CONTAINER 
                   When Open: We shift X by 50% to center the spine (since left page is absolute -180deg)
                */}
                <div 
                    className={`relative transition-all duration-[1400ms] ease-out transform-style-3d cursor-pointer
                        aspect-[1/1.5]
                        ${isOpen ? 'w-[42vw] md:w-[35vw]' : 'h-[50vh] md:h-[70vh] max-w-[80vw]'} 
                        ${isOpen ? '' : 'hover:scale-105'}`}
                    onClick={!isOpen ? openBook : undefined}
                    style={{
                        transform: getBookTransform(),
                        transition: 'all 1.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)'
                    }}
                >
                    {/* RIGHT PAGE (inner) */}
                    <div className={`absolute inset-0 w-full h-full ancient-page-bg rounded-r-xl book-shadow-ultra z-0 flex flex-col overflow-hidden border-l-2 border-amber-900/30 transition-all duration-[1400ms] ambient-shadow
                        ${isOpen ? 'scale-100' : 'scale-[0.97] translate-x-1'}`}>
                        
                        <div className={`w-full h-full transition-opacity duration-500 ${isOpen && (!isFlipping || flipDirection === 'prev') ? 'opacity-100' : 'opacity-0'}`}>
                            <div className="absolute inset-0 opacity-25 bg-[url('https://www.transparenttextures.com/patterns/old-mathematics.png')] pointer-events-none mix-blend-multiply"></div>
                            
                            <div className="p-4 md:p-8 lg:p-10 h-full flex flex-col relative z-10 text-slate-800 book-open-text">
                                <div className="absolute top-2 right-2 md:top-6 md:right-6 text-amber-900/40 font-serif text-xs md:text-sm italic">
                                    {rightPage?.pageNumber}
                                </div>
                                
                                <div className="flex-1 flex flex-col justify-center items-center text-center px-1 md:px-4">
                                    {rightPage ? (
                                        <>
                                            <h2
                                                className={`mb-3 md:mb-6 pb-2 border-b border-amber-700/40 ${
                                                    isEnglish ? 'english-heading' : 'scriptural-heading'
                                                }`}
                                                style={{ fontSize: getFontSizeTitle() }}
                                            >
                                                {rightPage.displayTitle}
                                            </h2>
                                            <p 
                                                className={`${isEnglish ? 'english-body' : 'scriptural-body'}`}
                                                style={{ fontSize: getFontSizeBody() }}
                                            >
                                                {rightPage.displayText}
                                            </p>
                                            <div className="mt-4 md:mt-10 text-cyan-500/40 animate-pulse">
                                                <Brain size="10%" style={{ minWidth: '32px', maxWidth: '56px' }} />
                                            </div>
                                        </>
                                    ) : (
                                        <div className="text-amber-600/50 text-xl md:text-2xl">{isEnglish ? "The End" : "समाप्त"}</div>
                                    )}
                                </div>

                                {/* RIGHT BOTTOM CONTROL (NEXT) */}
                                {currentPage < totalPages - 2 && (
                                    <div onClick={nextPage} 
                                         className="absolute bottom-0 right-0 p-4 md:p-8 cursor-pointer btn-premium rounded-tl-[2rem] md:rounded-tl-[3rem] group">
                                        <div className="flex items-center gap-1 md:gap-2 text-amber-900 font-bold text-xs md:text-base relative z-10">
                                            {isEnglish ? "Next" : "अगला"} <MoveRight size={18} className="group-hover:translate-x-2 transition-transform duration-300"/>
                                        </div>
                                    </div>
                                )}
                            </div>
                        </div>
                        
                        {!isOpen && (
                            <div className="absolute top-2 bottom-2 right-0 w-1 page-edge-gilt rounded-r-lg"></div>
                        )}
                    </div>

                    {/* FLIP ANIMATION OVERLAY (NEXT) */}
                    {isFlipping && flipDirection === 'next' && (
                        <div className="absolute inset-0 w-full h-full ancient-page-bg rounded-r-xl book-shadow-ultra z-20 origin-left transform-style-3d border-l-2 border-amber-900/20"
                             style={{ animation: 'flipLeftSmoother 0.9s forwards cubic-bezier(0.4, 0.0, 0.2, 1)' }}>
                            
                            <div className="absolute inset-0 backface-hidden p-10 flex flex-col items-center justify-center ambient-shadow">
                                <h2 className={`text-xl md:text-2xl mb-4 ${isEnglish ? 'english-heading' : 'scriptural-heading'}`} style={{ fontSize: getFontSizeTitle() }}>
                                    {rightPage?.displayTitle}
                                </h2>
                            </div>

                            <div className="absolute inset-0 backface-hidden rotate-y-180 p-10 flex flex-col items-center justify-center ambient-shadow">
                                <h2 className={`text-lg md:text-xl opacity-70 ${isEnglish ? 'english-heading' : 'scriptural-heading'}`} style={{ fontSize: getFontSizeTitle() }}>
                                    {getPageData(currentPage + 2)?.displayTitle || ''}
                                </h2>
                            </div>
                        </div>
                    )}

                    {/* FLIP ANIMATION OVERLAY (PREVIOUS) */}
                    {isFlipping && flipDirection === 'prev' && (
                        <div className="absolute inset-0 w-full h-full ancient-page-bg rounded-l-xl book-shadow-ultra z-20 origin-right transform-style-3d border-r-2 border-amber-900/20"
                             style={{ 
                                 left: '-100%',
                                 animation: 'flipRightSmoother 0.9s forwards cubic-bezier(0.4, 0.0, 0.2, 1)' 
                             }}>
                            
                            <div className="absolute inset-0 backface-hidden p-10 flex flex-col items-center justify-center ambient-shadow" style={{transform: 'rotateY(180deg)'}}>
                                <h2 className={`text-xl md:text-2xl mb-4 ${isEnglish ? 'english-heading' : 'scriptural-heading'}`} style={{ fontSize: getFontSizeTitle() }}>
                                    {leftPage?.displayTitle}
                                </h2>
                            </div>

                            <div className="absolute inset-0 backface-hidden p-10 flex flex-col items-center justify-center ambient-shadow">
                                <h2 className={`text-lg md:text-xl opacity-70 ${isEnglish ? 'english-heading' : 'scriptural-heading'}`} style={{ fontSize: getFontSizeTitle() }}>
                                    {getPageData(currentPage - 2)?.displayTitle || ''} 
                                </h2>
                            </div>
                        </div>
                    )}

                    {/* FRONT COVER */}
                    <div
                        className="absolute inset-0 w-full h-full origin-left transform-style-3d z-30 rounded-r-xl book-shadow-ultra"
                        style={{
                            transform: isOpen ? 'rotateY(-180deg)' : 'rotateY(0deg) translateZ(20px)',
                            transition: 'transform 1.4s cubic-bezier(0.645, 0.045, 0.355, 1)'
                        }}
                    >
                        <div className="absolute inset-0 backface-hidden z-20 rounded-r-xl overflow-hidden border-l-[4px] md:border-l-[6px] border-l-amber-600 bg-black book-shadow-ultra">
                            {!videoError ? (
                                <video src={videoUrl} className="absolute inset-0 w-full h-full object-cover" 
                                       autoPlay loop muted playsInline onError={() => setVideoError(true)} />
                            ) : (
                                <div className="absolute inset-0 w-full h-full bg-gradient-to-br from-slate-900 via-blue-950 to-black flex items-center justify-center">
                                    <div className="w-48 h-48 md:w-72 md:h-72 bg-blue-500/20 rounded-full blur-[100px] animate-pulse"></div>
                                </div>
                            )}
                            
                            <div className="absolute inset-0 bg-gradient-to-t from-black via-black/30 to-black/50 pointer-events-none"></div>
                            <div className="absolute inset-0 border-4 border-amber-500/20 rounded-r-xl pointer-events-none"></div>

                            <div className="absolute inset-0 flex flex-col items-center justify-between p-6 md:p-10 z-30">
                                <div className="flex gap-4 md:gap-8 text-amber-200 mt-4 md:mt-8">
                                    <div className="cosmic-orb">
                                        <Atom className="cosmic-icon slow-spin w-5 h-5 md:w-7 md:h-7" />
                                    </div>
                                    <div className="cosmic-orb">
                                        <Star className="cosmic-icon w-5 h-5 md:w-7 md:h-7" />
                                    </div>
                                    <div className="cosmic-orb">
                                        <InfinityIcon className="cosmic-icon slow-spin w-5 h-5 md:w-7 md:h-7" />
                                    </div>
                                </div>

                                <div className="text-center glass-morph p-4 md:p-8 rounded-2xl transform hover:scale-105 transition-all duration-500 w-full max-w-[90%]">
                                    <h1 className="text-5xl md:text-8xl font-black mb-2 md:mb-4" style={{
                                        background: 'linear-gradient(135deg, #fef3c7 0%, #fbbf24 30%, #f59e0b 60%, #d97706 100%)',
                                        WebkitBackgroundClip: 'text',
                                        backgroundClip: 'text',
                                        WebkitTextFillColor: 'transparent',
                                        filter: 'drop-shadow(0 4px 20px rgba(251, 191, 36, 0.6))'
                                    }}>
                                        {isEnglish ? "TRUTH" : "सत्य"}
                                    </h1>
                                    <div className="h-0.5 w-24 md:w-40 bg-gradient-to-r from-transparent via-cyan-400 to-transparent mx-auto mb-2 md:mb-3"></div>
                                    <p className="text-blue-100/90 text-[10px] md:text-sm tracking-[0.2em] md:tracking-[0.5em] uppercase font-light">
                                        {isEnglish ? "Science • Philosophy" : "विज्ञान • दर्शन • धर्म"}
                                    </p>
                                </div>

                                <div className="mb-4 md:mb-8">
                                    <Scroll className="text-amber-600 drop-shadow-[0_0_20px_rgba(217,119,6,0.7)] animate-pulse w-8 h-8 md:w-10 md:h-10" />
                                </div>
                            </div>
                        </div>

                        {/* Inside left page */}
                        <div className="absolute inset-0 backface-hidden" style={{ transform: 'rotateY(180deg)' }}>
                            <div className="ancient-page-bg rounded-l-xl shadow-inner flex flex-col overflow-hidden border-r-2 border-r-amber-900/30 ambient-shadow h-full">
                                <div className="absolute inset-0 opacity-25 bg-[url('https://www.transparenttextures.com/patterns/old-mathematics.png')] pointer-events-none mix-blend-multiply"></div>

                                <div className="p-4 md:p-10 h-full flex flex-col relative z-10 book-open-text">
                                    <div className="absolute top-2 left-2 md:top-6 md:left-6 text-amber-900/40 font-serif text-xs md:text-sm italic">
                                        {leftPage?.pageNumber}
                                    </div>

                                    <div className="flex-1 flex flex-col justify-center items-center text-center px-1 md:px-4">
                                        {leftPage ? (
                                            <>
                                                <h2
                                                    className={`mb-3 md:mb-6 pb-2 border-b border-amber-700/40 ${
                                                        isEnglish ? 'english-heading' : 'scriptural-heading'
                                                    }`}
                                                    style={{ fontSize: getFontSizeTitle() }}
                                                >
                                                    {leftPage.displayTitle}
                                                </h2>
                                                <p 
                                                    className={`${isEnglish ? 'english-body' : 'scriptural-body'}`}
                                                    style={{ fontSize: getFontSizeBody() }}
                                                >
                                                    {leftPage.displayText}
                                                </p>
                                                <div className="mt-4 md:mt-10 text-cyan-500/40">
                                                    <Atom size="10%" style={{ minWidth: '32px', maxWidth: '56px' }} />
                                                </div>
                                            </>
                                        ) : (
                                            <div className="text-amber-900/50 text-xl md:text-2xl">{isEnglish ? "Table of Contents" : "विषय सूची"}</div>
                                        )}
                                    </div>

                                    {/* LEFT BOTTOM CONTROL (PREVIOUS) */}
                                    {currentPage > 0 && (
                                        <div onClick={prevPage} 
                                             className="absolute bottom-0 left-0 p-4 md:p-8 cursor-pointer btn-premium rounded-tr-[2rem] md:rounded-tr-[3rem] group">
                                            <div className="flex items-center gap-1 md:gap-2 text-amber-900 font-bold text-xs md:text-base relative z-10">
                                                <MoveLeft size={18} className="group-hover:-translate-x-2 transition-transform duration-300"/> {isEnglish ? "Previous" : "पिछला"}
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    </div>

                    {!isOpen && (
                        <div className="absolute top-0 left-0 w-3 h-full book-spine rounded-l-md transform-style-3d z-40"
                             style={{ transform: 'translateZ(10px)' }}></div>
                    )}
                </div>

                {isOpen && (
                    <button
                        onClick={closeBook}
                        className="fixed top-4 right-4 md:top-6 md:right-10 glass-morph text-white/80 hover:text-white hover:bg-white/10 px-4 py-2 md:px-6 md:py-3 rounded-full transition-all z-50 flex items-center gap-2 md:gap-3 font-semibold text-xs md:text-sm btn-premium"
                    >
                        <span className="text-lg md:text-2xl">✕</span> {isEnglish ? "Close" : "बंद करें"}
                    </button>
                )}

                {isOpen && (
                    <div className="fixed top-4 left-4 md:top-6 md:left-10 z-50 flex items-center gap-2 md:gap-3 glass-morph px-3 py-1.5 md:px-4 md:py-2 rounded-full text-[10px] md:text-sm text-sky-100/90">
                        <span className="font-semibold">{isEnglish ? "Lang" : "अनुवाद"}</span>
                        <button
                            onClick={() => setIsEnglish(prev => !prev)}
                            className={`relative inline-flex h-4 w-8 md:h-6 md:w-11 items-center rounded-full transition-colors duration-300 ${
                                isEnglish ? 'bg-cyan-400/80' : 'bg-slate-600/80'
                            }`}
                        >
                            <span
                                className={`inline-block h-3 w-3 md:h-5 md:w-5 transform rounded-full bg-white shadow-md transition-transform duration-300 ${
                                    isEnglish ? 'translate-x-4 md:translate-x-5' : 'translate-x-1'
                                }`}
                            ></span>
                        </button>
                        <span className="font-semibold">{isEnglish ? 'EN' : 'HI'}</span>
                    </div>
                )}
            </div>
            
            {!isOpen && (
                <div className="absolute bottom-6 text-center text-blue-200/30 text-[10px] md:text-xs transition-opacity duration-1000">
                    <p>Ultra Realistic 3D Book Experience</p>
                </div>
            )}
        </div>
    );
};

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<CosmicBook />);
</script>
</body>
</html>
